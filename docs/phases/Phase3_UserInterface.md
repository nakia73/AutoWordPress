# Phase 3: User Interface（ユーザー・インターフェース）詳細仕様書

**テーマ:** User Onboarding & Control
**ゴール:** ユーザーがアカウントを作成し、自身のブログが作成・運用されていくプロセスを管理できるダッシュボードを提供する。

---

## 1. 目的

AIというブラックボックスを、ユーザーが安心してコントロールできる窓口を作ります。特に、複雑なWordPress設定を意識させず、**「成果の確認と簡単な指示」**に集中できるUXを目指します。

---

## 2. 実装ステップ

### Step 1: 認証システム (NextAuth.js)

- Email / Password によるログイン機能の実装。
- セキュアなセッション管理と、パスワードのハッシュ化（BCrypt）。
- サインアップ時の重複チェック、メールバリデーション。
- パスワードリセット（メール送信）機能。

**セキュリティ要件:**

- CSRF保護
- Rate Limiting（ブルートフォース対策）
- セキュアなCookie設定（HttpOnly, Secure, SameSite）

### Step 2: 魔法のようなオンボーディング

- URL入力後の「待機時間」を、「価値が蓄積されている時間」として演出。
- 進捗バーやステップインジケーターを用いて、分析中・構築中・生成中の状態を可視化。

**オンボーディングフロー:**

1. アカウント作成（メール、パスワード）
2. プロダクトURL入力
3. 分析中プログレス表示（「Analyzing your product...」）
4. 完了通知 → ダッシュボードへ

### Step 3: 記事管理ダッシュボード

- 生成された記事の一覧表示とステータス（下書き/公開/生成中）の管理。
- 各記事のプレビュー機能。
- 記事ごとの「自動公開」または「手動確認後公開」のトグルスイッチ。

**表示項目:**

| 項目 | 説明 |
|------|------|
| 総記事数 | 生成された記事の合計 |
| 公開済み | WordPressで公開中の記事数 |
| 下書き | 確認待ちの記事数 |
| 生成中 | 現在処理中の記事数 |

### Step 4: コンバージョン導線（CTA）管理

- 全記事に共通して挿入される「プロダクトへのリンクカード（CTA）」を一括編集できる機能。
- これにより、SEO記事からメインプロダクトへの送客効率を最大化。

---

## 3. 技術スタック

| コンポーネント | 技術 |
|---------------|------|
| Framework | Next.js 14 (App Router) |
| Language | TypeScript |
| Styling | Tailwind CSS |
| UI Components | Shadcn/UI |
| State Management | Zustand + TanStack Query |
| Form | React Hook Form + Zod |
| Auth | NextAuth.js |

---

## 4. 画面一覧

| 画面 | パス | 認証 |
|------|------|------|
| ランディングページ | `/` | 不要 |
| サインアップ | `/signup` | 不要 |
| ログイン | `/login` | 不要 |
| パスワードリセット | `/reset-password` | 不要 |
| オンボーディング | `/onboarding` | 必要 |
| ダッシュボード | `/dashboard` | 必要 |
| 記事一覧 | `/dashboard/articles` | 必要 |
| 設定 | `/dashboard/settings` | 必要 |

---

## 5. ディレクトリ構造

```
src/
├── app/
│   ├── (auth)/
│   │   ├── login/
│   │   ├── signup/
│   │   └── reset-password/
│   ├── (dashboard)/
│   │   ├── layout.tsx
│   │   ├── page.tsx          # Dashboard home
│   │   ├── articles/
│   │   └── settings/
│   ├── onboarding/
│   └── api/auth/[...nextauth]/
├── components/
│   ├── ui/                   # Shadcn components
│   ├── features/
│   └── shared/
└── lib/
    ├── auth.ts
    └── api.ts
```

---

## 6. セキュリティ & 実用性の考慮

- **アクセス制御:** 自分のドメインに関連するデータのみが閲覧可能であることをサーバーサイドで厳格に検証。
- **疎結合設計:** ダッシュボードが一時的にダウンしても、WordPress側のブログ表示には影響を与えない設計。

---

## 7. 成功基準

- ITに詳しくないユーザーでも、迷うことなくブログを開設し、1記事目の確認まで到達できること。
- パスワードのリセットやログインといった標準的な認証機能が不備なく動作すること。

---

## 8. 次のステップ

ユーザーインターフェースが完成したら、**Phase 4: Monetization** で決済機能を実装する。
